# 総合演習課題2
## minlisp

---

# 概要

mincamlを意識して名前を付けた。
部活動などでプログラミング演習に使うのが目的。
mincamlと同じくこの処理系を用いたプログラム演習、この処理系を参照して独自機能の拡張をさせる演習に使うなど。

---

# 言語機能
 * +, -, *, /, %の演算子
 * 関数
 * 変数
 * GC
 * 特殊形式

nil、Bool、数値、文字列、関数、Consのみしかデータが存在しない。
nilとはNULLのようなのもので、Boolはtrueとfalse。
数値は全て浮動小数点数。

---

# Cons
変数が２つ入る箱のようなもの

```
(1, 2)
(1, (2, 3))
```
などと出来る。
配列は存在しないが、

```
(1, (2, (3, (4, nil))))
```

のようにすることでリストを作ることが出来る。

---

# 四則演算

```lisp
(+ 1 2)
(* 3 4)
```

のように、(演算子 値 値)と書く(ポーランド記法)。
```lisp
(+ 1 2 3 4)
(- 2 4 5 (* 3 1 2))
```
複数の引数を渡したり入れ子にしたりも出来る。

---

# 関数

関数は全て値として扱われる(関数のリストも作れる)。
ループは無いが、再帰関数を使うことで似たようなことは出来る。
(lambda (引数...) (式))

```lisp
(* 1 2 3)
(lambda (x y) (+ x y))
```

---

# if

(if 条件式 trueの場合の式　falseの場合の式)
if文より条件演算子に近い

```lisp
(if (> 1 2) (+ 1 2) (* 1 2))
```
```C
if (1 > 2)
	return 1 + 2;
else
	return 1 * 2;
```

---

# let
変数宣言
(let 変数名 中身 式)で書く

```lisp
(let x 3 (* x 2))
```
```C
int x = 3;
return x * 2;
```

(let 変数名 中身)だけだと定義だけしてnilを返す。

```lisp
(let x 3)
(print x)
```
```C
int x = 3;
printf("%d\n", x);
```

---

# defun
(defun 名前 引数 本体)は
(let 名前 (lambda 引数 本体))と同じ(糖衣構文)

---

# progn
連続して式を実行する。

```lisp
(progn
	(let x 3)
	(let y 1)
	(print x)
	(print y)
	(print "hoge")
)
```

実はソースコード全体はprognの引数になっている
```
(progn
	ソースコード
)
```

---


# 例

階乗を求めるプログラム

```lisp
(defun fact (n) (if (< n 1) 1 (* n (fact (- n 1)))))
(print (fact 4))
```

---

# 特徴
C11のみで書かれているため移植が容易(おそらくOSとCコンパイラが存在する環境ならどこでも動く)
BSL-1.0とライセンスが非常に緩い。

---
# repository
github.com/namachan10777/minlisp
